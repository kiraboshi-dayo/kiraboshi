<!DOCTYPE html>
<html lang="ja">
  <link href="https://fonts.googleapis.com/css2?family=Zen+Maru+Gothic&display=swap" rel="stylesheet">
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <meta charset="UTF-8">
  <title>きらぼしサイト</title>
  <link rel="stylesheet" href="style.css">
<!--フォントメガ丸-->
  <script>
    (function(d) {
      var config = {
        kitId: 'vmj6bcq',
        scriptTimeout: 3000,
        async: true
      },
      h=d.documentElement,t=setTimeout(function(){h.className=h.className.replace(/\bwf-loading\b/g,"")+" wf-inactive";},config.scriptTimeout),tk=d.createElement("script"),f=false,s=d.getElementsByTagName("script")[0],a;h.className+=" wf-loading";tk.src='https://use.typekit.net/'+config.kitId+'.js';tk.async=true;tk.onload=tk.onreadystatechange=function(){a=this.readyState;if(f||a&&a!="complete"&&a!="loaded")return;f=true;clearTimeout(t);try{Typekit.load(config)}catch(e){}};s.parentNode.insertBefore(tk,s)
    })(document);
  </script>

</script>
</head>

<body>
  <canvas id="shootingStars"></canvas>
  <main class="character-wrapper">
    <div class="character-container">
      <img src="images/character.PNG" alt="キャラクター" class="character-img" />
      <div class="caption-overlay">
        <p class="caption rise-up">ものづくりとこの星がだいすき！</p>
        <p class="caption2 rise-up">イラスト、音楽、MV、時にはお菓子作りなどなど…。<br>宇宙からやってきたクリエイター、『きらぼし』のサイト。</p>
      </div>
    </div>
  </main>
  <!-- ロゴ -->
  <div class="logo">
    <img src="images/kiraboshi.logo.PNG" alt="きらぼしサイト">
  </div>

 <!-- クロスフェード動画（最新YouTube動画）-->
<div class="video-wrapper">
  <div class="video-label">最新の楽曲はこちら！</div> <!-- ← 追加 -->
  
  <div class="video-container">
    <iframe
      src="https://www.youtube.com/embed/KQWNrEigWrM"
      title="きらぼし動画"
      allowfullscreen>
    </iframe>
  </div>
  <p class="video-title">君のアイドル♡(31) / 重音テト</p>
</div>



  <!-- menu -->
<div id="menu-button">
  <img src="images/menu-ShootingStar.PNG" alt="menu" class="hamburger"/>
</div>

<div id="menu-panel" class="menu-panel">
  <a href="index.html">ホーム</a>
  <a href="pages/Illustration.html">イラスト</a>
  <a href="pages/video.html">動画</a>
  <a href="pages/Another.html">その他</a>
</div>

  <!-- SNSリンク -->
<div class="sns-links">
  <a href="https://x.com/kiraboshi_dayo?s=21&t=nBg6D8IdfzuOT_GNT5nRpw"><i class="fab fa-x-twitter"></i></a>
  <a href="https://youtube.com/@kiraboshi_dayo?si=jPh7ESLiHBsn_Y8I"><i class="fab fa-youtube"></i></a>
  <a href="https://www.tiktok.com/〜"><i class="fab fa-tiktok"></i></a>
  <a href="https://note.com/hao_hao_conoca"><span class="icon-combo">
    <i class="fas fa-book-open"></i>
    <i class="fas fa-pencil-alt pencil"></i>
  </span></a>
</div>

<!-- お手紙アイコン -->
<div class="request-toggle" onclick="toggleRequestLinks()">
  <img id="letter" src="images/letter-for-you.PNG" alt="ご依頼" />
</div>

<!-- Skeb・ココナラだけ別に出す -->
<div class="request-links hidden">

  <a href="https://skeb.jp/@KIRABOSHI_dayo" class="repuest-button" target="_blank">
    <div class="icon-area">
      <i class="fas fa-palette"></i>
    </div>
    <div class="text-area">
      <div class="title">skeb</div>
      <div class="subtitle">有償リクエスト💌</div>
    </div>
  </a>

  <a href="https://coconala.com/users/2508542" class="repuest-button" target="_blank">
    <div class="icon-area">
      <i class="fas fa-pencil-alt"></i>
    </div>
    <div class="text-area">
      <div class="title">ココナラ</div>
      <div class="subtitle">ご相談&依頼💌</div>
    </div>
  </a>

</div>
  


  <!--JavaScript -->
  <script>
    //メイン綺羅星
window.addEventListener("load", function () {
    const charImg = document.querySelector(".character-img");
    charImg.classList.add("visible");
  });


    //ご依頼
    window.toggleRequestLinks = function() {
  const links = document.querySelector('.request-links');
  links.classList.toggle('active');
  links.classList.remove('hidden');
}

    // menu開閉（アニメーション付き）

  const menuButton = document.getElementById("menu-button");
  const menuPanel = document.getElementById("menu-panel");

    // 5回以上タップすると...//
let clickCount = 0;
  const character = document.getElementById("letter");

  character.addEventListener("click", () => {
    clickCount++;
    if (clickCount >= 5) {
      character.src = "images/letter-for-you--.PNG";
    }
  });

  menuButton.addEventListener("click", () => {
    if (menuPanel.classList.contains("show")) {
      menuPanel.classList.remove("show");
      setTimeout(() => {
        menuPanel.style.display = "none";
      }, 300);
    } else {
      menuPanel.style.display = "block";
      setTimeout(() => {
        menuPanel.classList.add("show");
      }, 10);
    }
  });

// 流れ星データ

const canvas = document.getElementById('shootingStars');
const ctx = canvas.getContext('2d');
canvas.width = window.innerWidth;
canvas.height = window.innerHeight;

window.addEventListener('resize', () => {
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;
});

let stars = [];

function createStar() {
  stars.push({
    x: Math.random() * canvas.width,
    y: -10,
    length: Math.random() * 80 + 40,      // 尾を長め
    speed: Math.random() * 3 + 4,         // ちょうどいい速さ
    opacity: Math.random() * 0.5 + 0.5,
    size: Math.random() * 2.5 + 1.5       // 星の先端を目立たせる
  });
}



function drawStars() {
  ctx.clearRect(0, 0, canvas.width, canvas.height);  // ← ★ 背景を黒く塗らず透明のままクリア

  for (let i = 0; i < stars.length; i++) {
    const s = stars[i];

    // 尾にグラデーション
    const grad = ctx.createLinearGradient(s.x, s.y, s.x - s.length, s.y - s.length);
    grad.addColorStop(0, `rgba(255, 255, 255, ${s.opacity})`);
    grad.addColorStop(1, `rgba(255, 255, 255, 0)`);

    ctx.beginPath();
    ctx.moveTo(s.x, s.y);
    ctx.lineTo(s.x - s.length, s.y - s.length);
    ctx.strokeStyle = grad;
    ctx.lineWidth = 2;
    ctx.stroke();

    // 星の先端
    ctx.beginPath();
    ctx.arc(s.x, s.y, s.size, 0, Math.PI * 2);
    ctx.fillStyle = `rgba(255, 255, 255, ${s.opacity})`;
    ctx.fill();

    // 動かす
    s.x += s.speed;
    s.y += s.speed;

    if (s.y > canvas.height) {
      stars.splice(i, 1);
      i--;
    }
  }
}

function animate() {
  drawStars();
  if (Math.random() < 0.08) createStar();
  requestAnimationFrame(animate);
}

animate();


  </script>



</body>
</html>